import tkinter as tk
import random
import time

class MathGame:
    def __init__(self, root):
        self.root = root
        self.root.title("Simple Math")
        self.root.geometry("400x300")  

        self.score = 0
        self.timer_seconds = 60
        self.start_time = None
        self.question_number = 1

        self.label = tk.Label(root, text="Welcome to the World of Math", font=("Helvetica", 16))
        self.label.pack(pady=10)

        self.question_label = tk.Label(root, text="", font=("Helvetica", 12))
        self.question_label.pack(pady=10)

        self.answer_entry = tk.Entry(root, font=("Helvetica", 12))
        self.answer_entry.pack(pady=10)
        self.answer_entry.bind('<Return>', self.check_answer)

        self.feedback_label = tk.Label(root, text="", font=("Helvetica", 12))
        self.feedback_label.pack(pady=10)

        self.cat_label = tk.Label(root, text="", font=("Segoe UI Emoji", 36))
        self.cat_label.pack(pady=10)

        self.timer_label = tk.Label(root, text="Time: 1:00", font=("Helvetica", 12))
        self.timer_label.pack(anchor="ne", padx=10, pady=10)

        self.start_game()

    def start_game(self):
        self.start_time = time.time()
        self.update_timer()
        self.next_question()

    def update_timer(self):
        elapsed_time = int(time.time() - self.start_time)
        remaining_time = max(self.timer_seconds - elapsed_time, 0)
        minutes = remaining_time // 60
        seconds = remaining_time % 60
        timer_text = f"Time: {minutes:02}:{seconds:02}"
        self.timer_label.config(text=timer_text)

        if remaining_time > 0:
            self.root.after(1000, self.update_timer)
        else:
            self.display_score()

    def next_question(self):
        if time.time() - self.start_time < self.timer_seconds:
            num1 = random.randint(1, 10)
            num2 = random.randint(1, 10)
            operator = random.choice(["+", "-", "*", "/"])
            
            if operator == "+":
                self.answer = num1 + num2
            elif operator == "-":
                self.answer = num1 - num2
            elif operator == "*":
                self.answer = num1 * num2
            elif operator == "/":
                num2 = random.randint(1, 10)
                self.answer = num1 / num2
                
            self.question_label.config(text=f"Question {self.question_number}: {num1} {operator} {num2} = ")
            self.answer_entry.delete(0, 'end')
            self.feedback_label.config(text="")
            self.cat_label.config(text="") 
        else:
            self.display_score()

    def check_answer(self, event=None):
        user_answer = self.answer_entry.get()
        feedback_text = ""
        feedback_color = "black" 
        if user_answer.isdigit():
            if int(user_answer) == self.answer:
                self.score += 1
                feedback_text = "ðŸ˜º Correct!"
                feedback_color = "green"
            else:
                feedback_text = "ðŸ˜¿ Wrong!"
                feedback_color = "red"
        self.feedback_label.config(text=feedback_text, fg=feedback_color)
        self.cat_label.config(text="ðŸ˜º" if feedback_color == "green" else "ðŸ˜¿", font=("Segoe UI Emoji", 36), fg=feedback_color)
        self.question_number += 1
        self.root.after(1000, self.next_question)  

    def display_score(self):
        self.label.config(text=f"Game Over! Your Score: {self.score}/{self.question_number - 1}")
        self.question_label.pack_forget()
        self.answer_entry.pack_forget()
        self.feedback_label.pack_forget()

if __name__ == "__main__":
    root = tk.Tk()
    math_game = MathGame(root)
    root.mainloop() 